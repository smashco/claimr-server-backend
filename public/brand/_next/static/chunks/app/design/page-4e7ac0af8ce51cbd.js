(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[37],{1112:(e,t,r)=>{"use strict";function n({reason:e,children:t}){return t}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}}),r(1980)},1957:(e,t,r)=>{"use strict";function n({moduleIds:e}){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return n}}),r(5155),r(7650),r(5214),r(2451)},3321:(e,t,r)=>{"use strict";var n=r(4645);r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},4054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={bindSnapshot:function(){return u},createAsyncLocalStorage:function(){return l},createSnapshot:function(){return i}};for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]});let a=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class o{disable(){throw a}getStore(){}run(){throw a}exit(){throw a}enterWith(){throw a}static bind(e){return e}}let s="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function l(){return s?new s:new o}function u(e){return s?s.bind(e):o.bind(e)}function i(){return s?s.snapshot():function(e,...t){return e(...t)}}},5214:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return n.workAsyncStorageInstance}});let n=r(7828)},5707:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let n=r(3623)._(r(8635));function a(e,t){let r={};"function"==typeof e&&(r.loader=e);let a={...r,...t};return(0,n.default)({...a,modules:a.loadableGenerated?.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7206:(e,t,r)=>{"use strict";r.d(t,{default:()=>a.a});var n=r(5707),a=r.n(n)},7529:(e,t,r)=>{"use strict";r.d(t,{F:()=>o});var n=r(9185);let a=r(1463).env.NEXT_PUBLIC_API_URL||"http://localhost:10000",o={getTerritories:async()=>(await n.A.get(`${a}/api/brands/territories`)).data,calculatePrice:async(e,t)=>(await n.A.post(`${a}/api/brands/calculate-price`,{areaSqFt:e,laps:t})).data,createAd:async e=>(await n.A.post(`${a}/api/brands/create-ad`,e,{headers:{"Content-Type":"multipart/form-data"}})).data,createOrder:async(e,t)=>(await n.A.post(`${a}/api/brands/create-order`,{amount:e,receipt:t})).data,verifyPayment:async e=>(await n.A.post(`${a}/api/brands/verify-payment`,e)).data}},7828:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return n}});let n=(0,r(4054).createAsyncLocalStorage)()},8101:(e,t,r)=>{Promise.resolve().then(r.bind(r,8805))},8635:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return u}});let n=r(5155),a=r(2115),o=r(1112);function s(e){return{default:e&&"default"in e?e.default:e}}r(1957);let l={loader:()=>Promise.resolve(s(()=>null)),loading:null,ssr:!0},u=function(e){let t={...l,...e},r=(0,a.lazy)(()=>t.loader().then(s)),u=t.loading;function i(e){let s=u?(0,n.jsx)(u,{isLoading:!0,pastDelay:!0,error:null}):null,l=!t.ssr||!!t.loading,i=l?a.Suspense:a.Fragment,c=t.ssr?(0,n.jsxs)(n.Fragment,{children:[null,(0,n.jsx)(r,{...e})]}):(0,n.jsx)(o.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(r,{...e})});return(0,n.jsx)(i,{...l?{fallback:s}:{},children:c})}return i.displayName="LoadableComponent",i}},8805:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var n=r(5155),a=r(2115),o=r(3321),s=r(7529);let l=(0,r(7206).default)(()=>Promise.all([r.e(776),r.e(799)]).then(r.bind(r,4037)),{loadableGenerated:{webpack:()=>[4037]},ssr:!1,loading:()=>(0,n.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-900 text-white",children:"Loading Studio..."})});function u(){let e=(0,o.useSearchParams)(),t=(0,o.useRouter)(),r=e.get("territoryId"),[u,i]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{r?(async()=>{try{let e=(await s.F.getTerritories()).find(e=>e.id===Number(r));e?i(e):(console.error("Territory not found"),t.push("/"))}catch(e){console.error("Failed to load territory",e)}finally{d(!1)}})():t.push("/")},[r,t]),c)?(0,n.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-900 text-white",children:"Loading..."}):u?(0,n.jsx)(l,{territory:u,onSave:e=>{r&&(localStorage.setItem(`design_${r}`,e.fullImage),localStorage.setItem(`design_${r}_overlay`,e.overlayImage),localStorage.setItem(`design_${r}_bg`,e.backgroundColor),t.push("/dashboard?designSaved=true&territoryId="+r))},onCancel:()=>t.push("/")}):null}function i(){return(0,n.jsx)(a.Suspense,{fallback:(0,n.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-900 text-white",children:"Loading..."}),children:(0,n.jsx)(u,{})})}}},e=>{e.O(0,[185,441,794,358],()=>e(e.s=8101)),_N_E=e.O()}]);